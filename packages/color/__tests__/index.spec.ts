import { getColor } from '@color-utils/color'
import { arrayContaining, strictEqual } from './test-utils'

describe('getColor', () => {
  it('get color', () => {
    arrayContaining(getColor('#fef'), [255, 238, 255, 1])
    arrayContaining(getColor('#fffFEF'), [255, 255, 239, 1])
    arrayContaining(getColor('#fffFEFff'), [255, 255, 239, 1])
    arrayContaining(getColor('#fffFEF00'), [255, 255, 239, 0])
    arrayContaining(getColor('#fffFEFa9'), [255, 255, 239, 0.66])
    arrayContaining(getColor('rgb(244, 233, 100)'), [244, 233, 100, 1])
    arrayContaining(getColor('rgb(244 233 100)'), [244, 233, 100, 1])
    arrayContaining(getColor('rgb(100%, 30%, 90%)'), [255, 77, 229, 1])
    arrayContaining(getColor('rgb(100% 30% 90%)'), [255, 77, 229, 1])
    arrayContaining(getColor('transparent'), [0, 0, 0, 0])
    arrayContaining(getColor('hsl(240, 100%, 50.5%)'), [240, 100, 50.5, 1])
    arrayContaining(getColor('hsl(-480, 100%, 50.5%)'), [240, 100, 50.5, 1])
    arrayContaining(getColor('hsl(240 100% 50.5%)'), [240, 100, 50.5, 1])
    arrayContaining(getColor('hsl(240deg, 100%, 50.5%)'), [240, 100, 50.5, 1])
    arrayContaining(getColor('hsl(240deg 100% 50.5%)'), [240, 100, 50.5, 1])
    arrayContaining(getColor('hwb(240, 100%, 50.5%)'), [240, 100, 50.5, 1])
    arrayContaining(getColor('hwb(240deg, 100%, 50.5%)'), [240, 100, 50.5, 1])
  })

  it('[invalid]', () => {
    strictEqual(getColor('hsla(250, 100%, 50%, 50%)'), undefined)
    strictEqual(getColor('hsl(250 100% 50% / 50%)'), undefined)
    strictEqual(getColor('rgba(250, 100%, 50%, 50%)'), undefined)
    strictEqual(getColor('333333'), undefined)
    strictEqual(getColor('#1'), undefined)
    strictEqual(getColor('#f'), undefined)
    strictEqual(getColor('#4f'), undefined)
    strictEqual(getColor('#45ab4'), undefined)
    strictEqual(getColor('#45ab45e'), undefined)
    strictEqual(getColor('rgb()'), undefined)
    strictEqual(getColor('rgb(10)'), undefined)
    strictEqual(getColor('rgb(10,  2)'), undefined)
    strictEqual(getColor('rgb(10,  2, 2348723dskjfs)'), undefined)
    strictEqual(getColor('rgb(10%)'), undefined)
    strictEqual(getColor('rgb(10%,  2%)'), undefined)
    strictEqual(getColor('rgb(10%,  2%, 2348723%dskjfs)'), undefined)
    strictEqual(getColor('rgb(10%,  2%, 2348723dskjfs%)'), undefined)
    strictEqual(getColor('rgb(10$,3)'), undefined)
    strictEqual(getColor('rgba(10,  3)'), undefined)
  })
})
